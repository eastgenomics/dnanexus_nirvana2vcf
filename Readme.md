<!-- dx-header -->
# eggd_nirvana2vcf (DNAnexus Platform App)

eggd_nirvana2vcf

This is the source code for an app that runs on the DNAnexus Platform.
For more information about how to run or modify it, see
https://documentation.dnanexus.com/.
<!-- /dx-header -->

## What does this app do?
This app runs a python script which converts a Nirvana (v2.0.3) output file (.json.gz) into a VEP style vcf. 
It also checks that all variants in the vcf provided as input to Nirvana are present in the JSON file.

## What are typical use cases for this app?
This app should be executed stand-alone or as part of a DNAnexus workflow for a single sample.

## What data are required for this app to run?
The app requires a JSON file (.json.gz) and a VCF file (.vcf) to run.

## What does this app output?
The app outputs one file, where [outPrefix] is the JSON filename without extension:
1. [outPrefix].annotated.vcf - Annotation of variants present within the Nirvana input VCF/output JSON converted to vcf format.

## How does this app work?
The app runs a bash script which runs the python script which performs the conversion. After the conversion has been performed variants in the input VCF and JSON files are checked for concordance to provide assurance that the output of the Nirvana annotation is complete.

## What are the limitations of this app
- VCF files output by this app do not conform strictly to VCF spec, since the INFO field may contain spaces which are not permitted.
- Only JSON files generated by Nirvana 2.0.3 may be used as input. JSON files generated by other versions or Nirvana may produce incorrect output.

## This app was made by EMEE GLH
